<div class="projects-wrapper">
    <div class="header-row">
        <h3>Selected Works</h3>
    </div>

    <div class="gallery-grid">
        <!-- Loop through projects -->
        <div *ngFor="let proj of projects; let i = index" class="project-tile" [class.featured-span]="i === 0"
            [style.--brand-color]="proj.brandColor || '#0066FF'" (click)="openProject(proj)">

            <!-- Card Visual (Top) -->
            <div class="tile-visual">
                <div class="visual-bg" *ngIf="proj.image" [style.background-image]="'url(' + proj.image + ')'"></div>
                <div class="overlay"></div>
                <span class="project-number">0{{ i + 1 }}</span>
                <div class="live-badge" *ngIf="proj.liveDemo">
                    <span class="pulse"></span> Live Demo
                </div>
                <div class="live-badge github-badge" *ngIf="!proj.liveDemo && proj.githubUrl">
                    <span>&#x2B50;</span> GitHub
                </div>
            </div>

            <!-- Card Content (Bottom) -->
            <div class="tile-content">
                <div class="content-top">
                    <span class="category">{{ proj.category }}</span>
                    <div class="arrow-btn">&#8599;</div>
                </div>

                <h3>{{ proj.title }}</h3>
                <p>{{ proj.summary }}</p>

                <div class="tags-list">
                    <span *ngFor="let tag of proj.tags.slice(0, 3)" class="mini-tag">{{ tag }}</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Injection -->
    <app-project-detail *ngIf="selectedProject" [project]="selectedProject" (close)="closeProject()">
    </app-project-detail>
</div>