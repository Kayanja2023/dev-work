<!-- Floating Action Button -->
<button class="chat-fab" (click)="toggleChat()" [class.open]="isOpen">
    <span class="fab-icon">{{ isOpen ? 'âœ•' : 'ðŸ’¬' }}</span>
    <span class="fab-pulse"></span>
</button>

<!-- Chat Panel -->
<div class="chat-panel" [class.open]="isOpen">
    <div class="chat-header">
        <div class="header-info">
            <div class="avatar">ðŸ¤–</div>
            <div class="header-text">
                <h4>Ask Andile's AI</h4>
                <span class="status">Online</span>
            </div>
        </div>
        <button class="close-btn" (click)="toggleChat()">âœ•</button>
    </div>

    <div class="messages-container">
        <div class="message" *ngFor="let msg of messages" [class.user]="msg.role === 'user'"
            [class.assistant]="msg.role === 'assistant'">
            <div class="message-bubble">{{ msg.content }}</div>
        </div>

        <!-- Suggested Prompts -->
        <div class="suggested-prompts" *ngIf="messages.length <= 1">
            <button class="prompt-chip" *ngFor="let prompt of suggestedPrompts" (click)="sendPrompt(prompt)">
                {{ prompt }}
            </button>
        </div>

        <div class="typing-indicator" *ngIf="isLoading">
            <span></span><span></span><span></span>
        </div>
    </div>

    <div class="input-area">
        <input type="text" [(ngModel)]="userInput" (keyup.enter)="send()" placeholder="Ask about skills, projects..."
            [disabled]="isLoading">
        <button class="send-btn" (click)="send()" [disabled]="isLoading || !userInput.trim()">
            âž¤
        </button>
    </div>
</div>